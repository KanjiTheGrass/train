#==============================================================================
# ï¿½ï¿½ ï¿½fï¿½Wï¿½^ï¿½ï¿½ï¿½^ï¿½Cï¿½}ï¿½[ ver 1.00 ï¿½Îï¿½ï¿½Ì‘ï¿½
#==============================================================================
# ï¿½@ï¿½^ï¿½Cï¿½}ï¿½[ï¿½Ì•ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½fï¿½Wï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½Ì‚ï¿½ï¿½Ì‚É’uï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
# Graphics/Systemï¿½Ì’ï¿½ï¿½ï¿½digitalNumï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Oï¿½Ì‰æ‘œï¿½ipng/jpg/jpegï¿½jï¿½`ï¿½ï¿½ï¿½ï¿½
# ï¿½æ‘œï¿½ğ•¶ï¿½ï¿½Õ‚Æ‚ï¿½ï¿½Ägï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
# ï¿½@ï¿½ï¿½ï¿½ï¿½ï¿½Õ‚Ì‰æ‘œï¿½Í“ï¿½ï¿½pï¿½Åu0123456789:ï¿½vï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚Å•`ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B
# ï¿½ê•¶ï¿½ï¿½ï¿½Ì•ï¿½ï¿½Íï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½é‚±ï¿½ÆˆÈŠOï¿½wï¿½ï¿½Í‚ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½B
#==============================================================================
class Sprite_Timer
  #--------------------------------------------------------------------------
  # ï¿½ï¿½ ï¿½^ï¿½Cï¿½}ï¿½[ï¿½Ì•ï¿½ï¿½ï¿½ï¿½ï¿½
  #--------------------------------------------------------------------------
  def timer_length
    return 5
  end
  #--------------------------------------------------------------------------
  # ï¿½ï¿½ ï¿½rï¿½bï¿½gï¿½}ï¿½bï¿½vï¿½Ìì¬
  #--------------------------------------------------------------------------
  def create_bitmap
    @digital_bitmap = Cache.system("digitalNum")
    @diginum_width = @digital_bitmap.width / 11
    self.bitmap = Bitmap.new(@diginum_width * timer_length, @digital_bitmap.height)
  end
  #--------------------------------------------------------------------------
  # ï¿½ï¿½ ï¿½Ä•`ï¿½ï¿½
  #--------------------------------------------------------------------------
  def redraw
    self.bitmap.clear
    text = timer_text
    rect = Rect.new(0, 0, @diginum_width, @digital_bitmap.height)
    timer_length.times do |i|
      rect.x = (text[i] == ?: ? 10 : text[i].to_i) * @diginum_width
      self.bitmap.blt(@diginum_width * i, 0, @digital_bitmap, rect)
    end
  end
  #--------------------------------------------------------------------------
  # ï¿½ï¿½ ï¿½Ê’uï¿½ÌXï¿½V
  #--------------------------------------------------------------------------
  def update_position
    self.x = Graphics.width - self.bitmap.width - 8
    self.y = 5
    self.z = 200
  end
  #--------------------------------------------------------------------------
  # ï¿½ï¿½ ï¿½ï¿½ï¿½
  #--------------------------------------------------------------------------
  alias digtimer_dispose dispose
  def dispose
    @digital_bitmap.dispose
    digtimer_dispose
  end
end
